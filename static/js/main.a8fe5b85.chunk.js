(this["webpackJsonpreact-todo-app"]=this["webpackJsonpreact-todo-app"]||[]).push([[0],{134:function(e,t,n){e.exports=n(263)},139:function(e,t,n){},141:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(23),r=n.n(l),c=(n(139),n(140),n(32)),d=n(33),i=n(34),u=n(35),s=(n(141),n(56)),h=n(270),m=n(268),f=n(269),p=function(e){var t=e.todo,n=e.handleDelete,o=e.handleToggle;return a.a.createElement(h.a.Row,{positive:t.completed},a.a.createElement(h.a.Cell,null,a.a.createElement(m.a,{checked:t.completed,onChange:o})),a.a.createElement(h.a.Cell,null,t.title,a.a.createElement(f.a,{color:"orange",icon:"trash",floated:"right",compact:!0,size:"medium",onClick:n})))},E=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={counter:0},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("button",{onClick:function(){e.setState((function(e){return{counter:e.counter+1}}))}},"You have clicked ",this.state.counter," times")}}]),n}(a.a.Component),v={"Content-Type":"application/json"},g=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={todos:[],newTodo:""},o.fetchTodos=function(){fetch("/todos").then((function(e){return e.json()})).then((function(e){return o.setState({todos:e})})).catch((function(e){return console.error({err:e})}))},o.handleToggleAll=function(e){var t=o.state.todos;Promise.all(t.map((function(t){return fetch("/todos/".concat(t.id),{method:"PATCH",headers:v,body:JSON.stringify({completed:!e})})}))).then(o.fetchTodos).catch((function(e){return console.error({err:e})}))},o.handleNewTodoKeyDown=function(e){if(!(o.state.todos.length>=11)&&13===e.keyCode){e.preventDefault();var t=o.state,n=t.newTodo,a=(t.todos,n.trim());a&&fetch("/todos",{method:"POST",headers:v,body:JSON.stringify({title:a,completed:!1})}).then(o.fetchTodos).then((function(){return o.setState({newTodo:""})}))}},o.handleDelete=function(e){fetch("/todos/".concat(e),{method:"DELETE",headers:v}).then(o.fetchTodos)},o.handleClearCompleted=function(){var e=o.state.todos.filter((function(e){return e.completed}));Promise.all(e.map((function(e){return fetch("/todos/".concat(e.id),{method:"DELETE",headers:v})}))).then(o.fetchTodos)},o.handleInputChange=o.handleInputChange.bind(Object(s.a)(o)),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchTodos()}},{key:"handleTodoClick",value:function(e){var t=e.id,n=e.completed;fetch("/todos/".concat(t),{method:"PATCH",headers:v,body:JSON.stringify({completed:!n})}).then(this.fetchTodos)}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({newTodo:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.todos,o=(t.newTodo,n.every((function(e){return e.completed})));return a.a.createElement("div",{className:"todo-container"},a.a.createElement(E,null),a.a.createElement("input",{id:"new-todo",className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:this.state.newTodo,onChange:this.handleInputChange,onKeyDown:this.handleNewTodoKeyDown}),a.a.createElement("label",{htmlFor:"new-todo",style:{display:"none"}},"New Todo"),0===n.length?a.a.createElement(h.a,null,a.a.createElement(h.a.Header,null,a.a.createElement(h.a.Row,null,a.a.createElement(h.a.HeaderCell,null,"Nothing to do.")))):a.a.createElement(h.a,null,a.a.createElement(h.a.Header,null,a.a.createElement(h.a.Row,null,a.a.createElement(h.a.HeaderCell,null,a.a.createElement(m.a,{checked:o,onChange:function(){return e.handleToggleAll(o)}})))),a.a.createElement(h.a.Body,null,this.state.todos.map((function(t,n){return a.a.createElement(p,{key:n,todo:t,handleToggle:function(){return e.handleTodoClick(t,n)},handleDelete:function(){return e.handleDelete(t.id)}})}))),a.a.createElement(h.a.Footer,{fullWidth:!0},a.a.createElement(h.a.Row,null,a.a.createElement(h.a.HeaderCell,{colSpan:"2"},a.a.createElement(f.a,{size:"small",onClick:this.handleClearCompleted},"Clear completed"))))))}}]),n}(a.a.Component),C=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(g,null))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.a8fe5b85.chunk.js.map